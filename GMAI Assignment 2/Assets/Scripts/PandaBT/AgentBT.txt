tree("Root")
	repeat
		fallback
			tree("Approached")
			tree("Attending")
			tree("Idle")

tree("Idle")
	sequence
		EnterIdleState
		ChooseRandomLocation

tree("Approached")
	sequence
		CheckApproach
		MoveToCounter

tree("Attending")
	sequence
		CheckAttending
		parallel
			sequence
				CheckCustomerInquired
				tree("PotionInquiry")
			sequence
				CheckCustomerLeft
				SayFarewell
				RestartAgent

tree("PotionInquiry")
	sequence
		InitializeInquiry
		repeat
			parallel
				sequence
					CheckHealingOption
					tree("Transaction")
				sequence
					CheckArcaneOption
					tree("Studying")
				sequence
					CheckThirdOption

tree("Transaction")
	sequence
		InitializeTransaction
		CheckPaid
		SayFarewell
		RestartAgent

tree("Studying")
	sequence
		InitializeStudy
		MoveAndStudy